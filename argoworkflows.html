<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Abel Kecse</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/styles.css" rel="stylesheet">
    <link rel="stylesheet" href="css/diagramm_bootstrap.css">
</head>
<body class="bg-light min-vh-100">
    <header class="bg-white shadow-sm">
        <div class="container py-3">
            <nav class="navbar navbar-expand-md">
                <div class="container-fluid p-0">
                    <a href="#" class="navbar-brand text-primary fw-bold">Abel Kecse</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav ms-auto gap-4">
                            <li class="nav-item">
                                <a href="https://www.linkedin.com/in/abelkecse/" class="text-decoration-none hover-blue text-secondary">Lebenslauf</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="text-decoration-none hover-blue text-secondary">Meine Projekte</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <main class="container py-4">
        <div class="mb-4">
            <a href="index.html" class="text-primary d-flex align-items-center text-decoration-none">
                <i class="bi bi-chevron-left me-1 small"></i>
                Zurück zu allen Projekten
            </a>
        </div>

        <div class="bg-white rounded shadow-sm overflow-hidden mb-5">
            
            <div class="p-4 p-md-5">
            <div class="project-content">
                <h1 class="fw-bold mb-4">argo-workflows</h1>
                
                <div class="d-flex flex-wrap gap-2 mb-4">
                    <span class="badge rounded-pill bg-primary-subtle text-primary">Helm Chart</span>
                    <span class="badge rounded-pill bg-purple-subtle text-purple">Kubernetes</span>
                    <span class="badge rounded-pill bg-primary-subtle text-primary">Python</span>
                    <span class="badge rounded-pill bg-primary-subtle text-primary">Build Pipelines</span>
                    <span class="badge rounded-pill bg-primary-subtle text-primary">GitLab</span>
                    <span class="badge rounded-pill bg-success-subtle text-success">CI/CD</span>
                    <span class="badge rounded-pill bg-success-subtle text-success">Migration</span>
                </div>

                <p class="text-secondary mb-4">
                    ArgoCD läuft zentral in einem Cluster, statt sie in jedem Kunden-Cluster in einem argocd namespace bereitzustellen.  
                    -> Kunden-Cluster -> argocd namespace. Es gibt pro Kunde einen dedizierten Namespace, der ausschließlich für die Workflows dieses Kunden verwendet wird (nicht für die App-Bereitstellungen, dafür ist nicht Gitlab sondern ArgoCD verantwortlich). 
                </p>
                
                <h2 class="fw-semibold mt-5 mb-3">Projektziele</h2>
                <ul class="text-secondary mb-4">
                    <li>Long-Running Prozesse als DAG-s auszufuehren</li>
                    <li>Einzelne Knoten manuell neustarten, anhalten zu können um die Abhängigkeiten von untergeordnete Knoten zu erfüllen </li>
                    <li>Manuelle Steuerung der "K8s Jobs" mit replayability</li>
                </ul>
            </div>
            </div>
            <div class="container diagram-container">
                <h2 class="diagram-title"></h2>
                
                <div class="row">
                    <!-- GitLab Section -->
                    <div data-bs-toggle="tooltip" title="Hier in .git-cli.yaml befinden sich die Credentials gcp proj id, cluster, namespace usw. die wir mit dem google python sdk verwenden um von der kundenspezifischen worfklow namespace aus Zugriff auf den Cluster zu haben (issue kubectl exec, kubectl cp Befehle against it) in den wir mit pyinstaller erstellte python executables hochladen (rübekopiern und mit kubectl exec aufrufen - dies findet alles statt innerhalb eines workflow tasks mit einem python container ) Wichtig!: unser workflow gesteuerte argo app läuft in dem shared-cluster kundenspezifische namespace " style="margin-top: -2.5rem;">
                    <div class="col-md-4">
                        <div class="gitlab-box">
                            <h3>GitLab</h3>
                            <div class="file-icon">
                                <svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14 2 14 8 20 8"></polyline>
                                    <line x1="16" y1="13" x2="8" y2="13"></line>
                                    <line x1="16" y1="17" x2="8" y2="17"></line>
                                    <polyline points="10 9 9 9 8 9"></polyline>
                                </svg>
                                <div>
                                    <h5>App Directory</h5>
                                </div>
                            </div>
                            <div class="file-icon">
                                <svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14 2 14 8 20 8"></polyline>
                                    <line x1="16" y1="13" x2="8" y2="13"></line>
                                    <line x1="16" y1="17" x2="8" y2="17"></line>
                                    <polyline points="10 9 9 9 8 9"></polyline>
                                </svg>
                                <div>
                                    <h5>Workflow Directory</h5>
                                </div>
                            </div>
                            
                                <div class="mt-3">
                                    <code>.git-cli.yaml</code>
                                </div>
                            
                        </div>
                    </div>
                    </div>
                    
                    <!-- Central Cluster Section -->
                    <div class="col-md-8">
                        <div class="central-cluster">
                            <div data-bs-toggle="tooltip" title="Shared Cluster: hier befindet sich der argocd namespace und die kundenspezifische worfklow namespaces" style="margin-top: -2.5rem;">
                              <div style='padding: 20px'><h3>Central Cluster</h3></div>
                            </div>
                            <div class="d-flex justify-content-center mb-4 mt-3">
                                <div class="me-5">
                                  <img src='https://miro.medium.com/v2/resize:fit:741/1*6-6c85UzYw5anvRW3nEJvg.png' style='height: 80px'/>
                                </div>
                                <div>
                                    <img src='https://cdn2.iconfinder.com/data/icons/mixd/512/20_kubernetes-512.png' style='height: 60px'/>
                                </div>
                            </div>
                            
                            <div class="row mt-4">
                                <div class="col-md-4">
                                    <div data-bs-toggle="tooltip" title="kundenspezifischer namespace: Hierhin wird das kundenspezifische kind:Workflow / kind: WorkflowTemplate aus dem kundenspezifischen GitLab Repo hochgeladen " style="margin-top: -2.5rem;">
                                    <div class="namespace-box">
                                        <h5>Namespace 1</h5>
                                    </div>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <div class="workflow-box">
                                        <div class="d-flex align-items-center mb-3">
                                            <svg class="small-logo" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                                                <circle cx="25" cy="25" r="20" fill="#f1f1f1" stroke="#333" stroke-width="2" />
                                                <circle cx="15" cy="15" r="3" fill="#333" />
                                                <circle cx="25" cy="15" r="3" fill="#333" />
                                                <circle cx="35" cy="15" r="3" fill="#333" />
                                                <circle cx="15" cy="25" r="3" fill="#333" />
                                                <circle cx="25" cy="25" r="3" fill="#333" />
                                                <circle cx="15" cy="35" r="3" fill="#333" />
                                                <circle cx="25" cy="35" r="3" fill="#333" />
                                                <path d="M15 15 L25 25 M25 15 L15 25 M25 25 L15 35 M25 25 L25 35" stroke="#333" stroke-width="1" />
                                            </svg>
                                            <h5>Workflow</h5>
                                        </div>
                                        
                                        <div class="d-flex align-items-center mb-2">
                                            <img src='https://tse1.mm.bing.net/th/id/OIP.Pc36T8TIcctJCVqbMUfWAQHaHw?rs=1&pid=ImgDetMain' style='height: 50px;'/>
                                            <span>Python</span>
                                        </div>
                                        
                                        <div class="command-line">kubectl exec</div>
                                        <div class="command-line">kubectl cp</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Customer Sections -->
                <div class="row mt-5">
                    <div class="col-md-6">
                        <div class="customer-box">
                            <h3>Customer 1</h3>
                            <div class="k8s-section">
                                <svg class="logo" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="40" cy="40" r="35" fill="#326CE5" />
                                    <path d="M40 15 L40 65 M15 40 L65 40 M25 25 L55 55 M25 55 L55 25" stroke="white" stroke-width="4" />
                                    <circle cx="40" cy="40" r="8" fill="white" />
                                </svg>
                                <div>
                                    <h5>Kubernetes Cluster</h5>
                                    <p>Apps</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="customer-box">
                            <h3>Customer 2</h3>
                            <div class="k8s-section">
                                <svg class="logo" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="40" cy="40" r="35" fill="#326CE5" />
                                    <path d="M40 15 L40 65 M15 40 L65 40 M25 25 L55 55 M25 55 L55 25" stroke="white" stroke-width="4" />
                                    <circle cx="40" cy="40" r="8" fill="white" />
                                </svg>
                                <div>
                                    <h5>Kubernetes Cluster</h5>
                                    <p>Apps</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        
            
            <div class="p-4 p-md-5">
                
                <div class="project-content">
                    
                    <h2 class="fw-semibold mt-5 mb-3">Meine Lösung</h2>
                    <p class="text-secondary mb-4">
                        Stell dir einen kubectl apply Befehl vor der von Gitlab aus ausgeführt wird.
                        In GitLab gibt es pro Kunde ein Verzeichnis für Apps (um das Produkt zu deployen) und eines für Workflows (um in den zentralen Cluster die Workflows mit Umgebungsvariablen aus Apps zu deployen ).
                    </p>

                    <p class="text-secondary mb-4">
                        Diese Umgebungsvariablen enthalten Credentials (z.B. Tokens, kubeconfigs), die von Argo Workflows bzw. den darin laufenden Containern verwendet werden. Innerhalb des Containers/der Container wird dann z.B. ein Python-Skript ausgeführt, das kubectl exec, kubectl cp usw. nutzt.
                    </p>

                    <p class="text-secondary mb-4">
                        Die Container in den Workflows, die im kundenspezifischen Namespace im zentralen Cluster laufen, verbinden sich authentifiziert zu den jeweiligen Kunden-K8s-Umgebungen.Die Authentifizierung läuft also nicht durch ArgoCD selbst, sondern durch dynamische, im Workflow gesetzte Zugangsdaten.
                    </p>

                    <p class="text-secondary mb-4">
                        Durch diese Weise kann man sagen, dass die Kundenzugriffe keine Ueberschneidung haben und klar getrennt voneinander sind. Jeder Namespace hat nur Zugriff auf den jeweils dafür vorgesehenen Kundenbereich – kein Zugriff zwischen den Namespaces/Kunden.
                    </p>

                    <div class="row g-4 my-4">
                        <div class="col-md-6">
                            <img src="img/argoworkflows_invert.png" style="filter: invert(100%);" class="img-fluid rounded shadow-sm">
                        </div>
                    </div>
                    
                    <h2 class="fw-semibold mt-5 mb-3">Ergebnisse</h2>
                    <p class="text-secondary mb-4">
                        Nach der POC Phase wir die Lösung eine zerbrechliche bash Implementierung ablösen die viel manuelle Eingriffe benötigte unter anderen On-Call-Rotations und Incident Management. Die Lösung wird für Berechnungen verwendet die übernacht laufen, Long-Running Apache Spark Jobs die als K8s Jobs laufen. Die Spark Jobs dienen für die Risikoanalyse von Finanz Instituten.
                    </p>
                    
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-dark text-white py-5">
        <div class="container">
            <div class="row gy-4">
                <div class="col-md-3">
                    <h3 class="fs-5 fw-semibold mb-3">devopsexpert.eu</h3>
                    <p class="text-muted small"></p>
                </div>
        </div>
    </footer>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Add interactive elements
        document.addEventListener('DOMContentLoaded', function() {
          
            const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
            tooltipTriggerList.forEach(el => new bootstrap.Tooltip(el));
          
            // Make boxes slightly interactive on hover
            const interactiveElements = document.querySelectorAll('.gitlab-box, .workflow-box, .namespace-box, .customer-box');
            
            interactiveElements.forEach(element => {
                element.addEventListener('mouseover', function() {
                    this.style.transform = 'scale(1.02)';
                    this.style.transition = 'transform 0.3s ease';
                    this.style.boxShadow = '0 6px 12px rgba(0, 0, 0, 0.15)';
                });
                
                element.addEventListener('mouseout', function() {
                    this.style.transform = 'scale(1)';
                    this.style.boxShadow = '';
                });
                
                element.addEventListener('click', function() {
                    // Add a subtle animation on click
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1.02)';
                    }, 100);
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 200);
                });
            });
        });
    </script>
</body>
</html>
